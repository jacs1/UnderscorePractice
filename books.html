<html>
  <head>
    <title>Books Underscore Practice</title>
    <script src="underscore-min.js"></script>
  </head>
  <body>
    <div id="bookshelf"></div>

    <div id="todo">
      <ol>
        <li>Use _.each to iterate over each book and display it in the bookshelf</li>
        <li>Use _.map to pull out the web reader URL and create a link around the book image, so that when I click it I can see inside the book.</li>
        <li>Use _.find to find all the books with a rating of 4 or 5, and add a CSS class to them called hot. Add CSS so that the hot class is a snazzy star shape or something.</li>

      </ol>
    </div>

    <script>
 //    function hadndleResponse(response) {
 //      links = _.map(response.items, function(book)) {
 //        return book.volumeInfo.previewLink;

 //        console.log(links);
 //      });
 // }
      
   
      



    
      function handleResponse(response) {
        _.each(response.items, function(book) {
        var image = document.createElement('img')
        image.setAttribute("src", book.volumeInfo.imageLinks.thumbnail);

        var weburl = book.volumeInfo.previewLink;
        var a = document.createElement('a');
        a.setAttribute('href', weburl);
          // _.map(response.items)
        a.appendChild(image)
        bookshelf.appendChild(a)
      });
    };
    </script>

    <script src="https://www.googleapis.com/books/v1/volumes?q=harry+potter&callback=handleResponse&key=AIzaSyA8JjzEHghU189TKmczHgbNdk6nuveJixU"></script>
  </body>
</html>