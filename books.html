<html>
  <head>
    <link href="main.css" style="text/css" rel="stylesheet">
    <title>Books Underscore Practice</title>
    <script src="underscore-min.js"></script>
  </head>
  <body>

    <div id="bookshelf"> 
      <h1> Bookshelf </h1>
    </div>


    <div id="todo">

    </div>

    <script>
 //    function hadndleResponse(response) {
 //      links = _.map(response.items, function(book)) {
 //        return book.volumeInfo.previewLink;

 //        console.log(links);
 //      });
 // }
      
   
      



    
      function handleResponse(response) {
        _.each(response.items, function(book) {
        var image = document.createElement('img')
        image.setAttribute("src", book.volumeInfo.imageLinks.thumbnail);

        var weburl = book.volumeInfo.previewLink;
        var a = document.createElement('a');
        a.setAttribute('href', weburl);
          // _.map(response.items)
        a.appendChild(image)
        bookshelf.appendChild(a)
      });
    };
    </script>

    <script src="https://www.googleapis.com/books/v1/volumes?q=harry+potter&callback=handleResponse&key=AIzaSyA8JjzEHghU189TKmczHgbNdk6nuveJixU"></script>
  </body>
</html>